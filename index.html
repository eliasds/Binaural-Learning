<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Audio Mixer</title>
  </head>
  <body>
    <form>
      <label for="file1">Select file 1:</label>
      <input type="file" id="file1"><br>
      <label for="file2">Select file 2:</label>
      <input type="file" id="file2"><br>
      <button type="submit">Mix audio</button>
    </form>
    <div id="progress"></div>
    <button id="play">Play</button>
    <button id="pause">Pause</button>
    <button id="swap">Swap channels</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.18/Tone.min.js"></script>
    <script>
      const form = document.querySelector('form');
      const file1 = document.querySelector('#file1');
      const file2 = document.querySelector('#file2');
      const progress = document.querySelector('#progress');
      const playButton = document.querySelector('#play');
      const pauseButton = document.querySelector('#pause');
      const swapButton = document.querySelector('#swap');

      let buffer;
      let source;
      let context;

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const files = [file1.files[0], file2.files[0]];
        context = new AudioContext();
        const mixer = context.createGain();
        mixer.gain.setValueAtTime(1, 0);
        const filePromises = files
