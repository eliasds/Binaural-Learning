<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // get the access token from the URL hash
      const accessToken = window.location.hash.substr(1).split('&')[0].split('=')[1];
      // set the access token in local storage
      localStorage.setItem('accessToken', accessToken);
	    
    // Get the referring URL
    const referringUrl = document.referrer;
    // Define the redirect URLs based on the referring URL
    const redirectUrls = {
      'https://eliasds.github.io/Binaural-Learning/spotify.html': 'https://eliasds.github.io/Binaural-Learning/spotify.html',
      'https://eliasds.github.io/Binaural-Learning/simplespotify.html': 'https://eliasds.github.io/Binaural-Learning/simplespotify.html',
      'https://eliasds.github.io/Binaural-Learning/jamendo.html': 'https://eliasds.github.io/Binaural-Learning/jamendo.html',
      'https://eliasds.github.io/Binaural-Learning/jamendo2.html': 'https://eliasds.github.io/Binaural-Learning/jamendo2.html',
      // Add more URL mappings as needed
    };
    
    // Get the corresponding redirect URL based on the referring URL
    const redirectUrl = redirectUrls[referringUrl] || 'https://eliasds.github.io/Binaural-Learning';
    
    // Redirect to the appropriate destination
    window.location.href = redirectUrl;
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
</body>
</html>
